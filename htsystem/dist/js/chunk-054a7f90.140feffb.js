(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-054a7f90"],{"2d4f":function(e,t,s){"use strict";var n=s("e9c1"),a=s.n(n);a.a},"822a":function(e,t,s){},bcec:function(e,t,s){"use strict";var n=s("822a"),a=s.n(n);a.a},e9c1:function(e,t,s){},ff55:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"menu_model_add model_add"},[s("Form",{ref:"formValidate",staticClass:"clearfix",attrs:{model:e.innerInfo,"label-position":"right",rules:e.ruleValidate,"label-width":120}},[s("FormItem",{attrs:{label:"类型",prop:"menuType",required:!0}},[s("Select",{attrs:{placeholder:"请选择类型",disabled:e.disabled},on:{"on-change":e.chooseType},model:{value:e.innerInfo.menuType,callback:function(t){e.$set(e.innerInfo,"menuType",t)},expression:"innerInfo.menuType"}},e._l(e.typeList,(function(t){return s("Option",{key:t.key,attrs:{value:t.key}},[e._v(e._s(t.value))])})),1)],1),s("Tooltip",{attrs:{content:"配置格式查看",placement:"top"}},[s("Icon",{staticStyle:{color:"#ed5565","font-size":"22px"},attrs:{type:"ios-pricetags"},on:{click:e.tipsClick}})],1),e.muluOrMenu?e._e():s("div",e._l(e.innerInfo.subMenuList,(function(t,n){return s("div",{key:n,staticClass:"box_content",staticStyle:{width:"100%",float:"right",position:"relative","margin-bottom":"15px"}},[e.disabled?e._e():s("Button",{staticClass:"menu_button",class:0===n?"":"none",attrs:{type:"primary"},on:{click:e.addButton}},[e._v("添加")]),e.disabled?e._e():s("Button",{staticClass:"menu_button",class:0===n?"none":"",staticStyle:{"background-color":"#ed5565","border-color":"#ed5565"},attrs:{type:"primary"},on:{click:function(t){return e.reduceButton(n)}}},[e._v("删除")]),s("FormItem",{attrs:{label:"目录名称",prop:"subMenuList["+n+"].menuName",required:!0}},[s("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入目录名称 (路由title)",disabled:e.disabled},model:{value:t.menuName,callback:function(s){e.$set(t,"menuName",s)},expression:"item.menuName"}})],1),s("FormItem",{attrs:{label:"路由名称",prop:"subMenuList["+n+"].routeName",required:!0}},[s("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入路由名称",disabled:e.disabled},model:{value:t.routeName,callback:function(s){e.$set(t,"routeName",s)},expression:"item.routeName"}})],1),s("FormItem",{attrs:{label:"路由地址",prop:"subMenuList["+n+"].componentName",required:!0}},[s("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入组件名称",disabled:e.disabled},model:{value:t.componentName,callback:function(s){e.$set(t,"componentName",s)},expression:"item.componentName"}})],1),s("FormItem",{attrs:{label:"权限标识",prop:"permission"}},[s("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入权限标识",disabled:e.disabled},model:{value:t.permission,callback:function(s){e.$set(t,"permission",s)},expression:"item.permission"}})],1),s("FormItem",{attrs:{label:"目录图标",prop:"permission"}},[s("IconSelect",{attrs:{inputIconValue:t.icon,disabled:e.disabled},on:{getIconValue:function(t){return e.getValue(n,t)}},model:{value:t.icon,callback:function(s){e.$set(t,"icon",s)},expression:"item.icon"}})],1),s("FormItem",{attrs:{label:"目录排序",prop:"sort"}},[s("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入目录排序",disabled:e.disabled},model:{value:t.sort,callback:function(s){e.$set(t,"sort",s)},expression:"item.sort"}})],1),s("FormItem",{attrs:{label:"显示状态"}},[s("i-Switch",{attrs:{size:"large",disabled:e.disabled},model:{value:t.isShow,callback:function(s){e.$set(t,"isShow",s)},expression:"item.isShow"}},[s("span",{attrs:{slot:"open"},slot:"open"},[e._v("显示")]),s("span",{attrs:{slot:"close"},slot:"close"},[e._v("隐藏")])])],1),s("FormItem",{staticStyle:{float:"right"},attrs:{label:"检验接口"}},[s("i-Switch",{attrs:{size:"large",disabled:e.disabled},model:{value:t.needCheckPermission,callback:function(s){e.$set(t,"needCheckPermission",s)},expression:"item.needCheckPermission"}},[s("span",{attrs:{slot:"open"},slot:"open"},[e._v("需要")]),s("span",{attrs:{slot:"close"},slot:"close"},[e._v("不需要")])])],1)],1)})),0),e.muluOrMenu?s("div",e._l(e.innerInfo.subMenuList,(function(t,n){return s("div",{key:n,staticClass:"box_content",staticStyle:{width:"100%",float:"right",position:"relative","margin-bottom":"15px"}},[e.disabled?e._e():s("Button",{staticClass:"menu_button",class:0===n?"":"none",attrs:{type:"primary"},on:{click:e.addButton}},[e._v("添加")]),e.disabled?e._e():s("Button",{staticClass:"menu_button",class:0===n?"none":"",staticStyle:{"background-color":"#ed5565","border-color":"#ed5565"},attrs:{type:"primary"},on:{click:function(t){return e.reduceButton(n)}}},[e._v("删除")]),s("FormItem",{attrs:{label:"菜单名称",prop:"subMenuList["+n+"].menuName",required:!0}},[s("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入菜单名称",disabled:e.disabled},model:{value:t.menuName,callback:function(s){e.$set(t,"menuName",s)},expression:"item.menuName"}})],1),s("FormItem",{attrs:{label:"三方地址"}},[s("Input",{attrs:{type:"text",clearable:"",placeholder:"请输入三方地址"},model:{value:t.href,callback:function(s){e.$set(t,"href",s)},expression:"item.href"}})],1),s("FormItem",{attrs:{label:"路由名称",prop:"routeName"}},[s("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入路由名称",disabled:e.disabled},model:{value:t.routeName,callback:function(s){e.$set(t,"routeName",s)},expression:"item.routeName"}})],1),s("FormItem",{attrs:{label:"路由地址",prop:"componentName"}},[s("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入组件名称",disabled:e.disabled},model:{value:t.componentName,callback:function(s){e.$set(t,"componentName",s)},expression:"item.componentName"}})],1),s("FormItem",{attrs:{label:"菜单图标",prop:"permission"}},[s("IconSelect",{attrs:{inputIconValue:t.icon,disabled:e.disabled},on:{getIconValue:function(t){return e.getValue(n,t)}},model:{value:t.icon,callback:function(s){e.$set(t,"icon",s)},expression:"item.icon"}})],1),s("FormItem",{attrs:{label:"权限标识",prop:"permission"}},[s("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入权限标识",disabled:e.disabled},model:{value:t.permission,callback:function(s){e.$set(t,"permission",s)},expression:"item.permission"}})],1),s("FormItem",{attrs:{label:"菜单排序",prop:"sort"}},[s("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入菜单排序",disabled:e.disabled},model:{value:t.sort,callback:function(s){e.$set(t,"sort",s)},expression:"item.sort"}})],1),s("FormItem",{attrs:{label:"显示状态"}},[s("i-Switch",{attrs:{size:"large",disabled:e.disabled},model:{value:t.isShow,callback:function(s){e.$set(t,"isShow",s)},expression:"item.isShow"}},[s("span",{attrs:{slot:"open"},slot:"open"},[e._v("显示")]),s("span",{attrs:{slot:"close"},slot:"close"},[e._v("隐藏")])])],1),s("FormItem",{staticStyle:{float:"right"},attrs:{label:"检验接口"}},[s("i-Switch",{attrs:{size:"large",disabled:e.disabled},model:{value:t.needCheckPermission,callback:function(s){e.$set(t,"needCheckPermission",s)},expression:"item.needCheckPermission"}},[s("span",{attrs:{slot:"open"},slot:"open"},[e._v("需要")]),s("span",{attrs:{slot:"close"},slot:"close"},[e._v("不需要")])])],1)],1)})),0):e._e()],1),e.tipsFlag?s("div",{staticClass:"tips"},[s("span",{staticStyle:{color:"red","font-size":"14px"}},[e._v("*配置格式：")]),s("span",[e._v("目录/菜单名称：路由title;")]),s("span",[e._v("路由名称：路由name (不需要加斜杠);")]),s("span",[e._v("路由地址：路由component;")]),s("span",[e._v("目录/菜单图标：路由icon;")]),s("span",[e._v("三方地址：路由href;")])]):e._e(),e.disabled?e._e():s("div",{staticClass:"listbutton"},[s("Button",{staticClass:"savebutton",attrs:{type:"primary",icon:"md-checkmark"},on:{click:e.Addoperate}},[e._v("保存")]),s("Button",{staticClass:"cancelbutton",attrs:{type:"primary",icon:"md-undo"},on:{click:e.cancleFun}},[e._v("取消")])],1)],1)},a=[],i=(s("63ff"),s("f8f9")),o=(s("4634"),s("dea4")),l={props:{disabled:Boolean},data:function(){return{system:[{value:"系统一"},{value:"系统二"}],dic_data:[{name:"所属系统",data:[]}],innerInfo:{menuType:1,subMenuList:[{menuName:"",menuType:1,isShow:!1,icon:"",menuPath:"",routeName:"",componentName:"",permission:"",needCheckPermission:!1}]},typeList:[{value:"目录",label:"目录",key:1},{value:"菜单",label:"菜单",key:2}],ruleValidate:{phoneNumber:Object(o["a"])(this.$helper.validateProvider("联系电话",!1))},narr:[],nIndex:0,muluOrMenu:!1,tipsFlag:!1}},methods:{Addoperate:function(){var e=this;this.innerInfo.subMenuList.forEach((function(t){t.menuType=e.innerInfo.menuType})),this.$refs.formValidate.validate((function(t){t?e.$api.MenuConfig.AddMoreMenu(e.innerInfo.subMenuList).then((function(t){t.data.success?(e.$Message.success("提交成功!"),e.$emit("RefreshParent"),e.$refs.formValidate.resetFields()):e.$Message.error("提交失败!")})):e.$Message.error("表单验证失败!")}))},cancleFun:function(){this.$emit("RefreshParent")},addButton:function(){this.innerInfo.subMenuList.push({menuName:""})},reduceButton:function(e){this.innerInfo.subMenuList.splice(e,1)},getValue:function(e,t){this.innerInfo.subMenuList[e].icon=t},chooseType:function(e){this.muluOrMenu=2==e,this.innerInfo.subMenuList.forEach((function(t){t.menuType=e}))},getDetail:function(e,t){var s=this;this.muluOrMenu="菜单"==t;var n={id:e};this.$api.MenuConfig.DetailMenu(n).then((function(e){s.innerInfo.menuType=e.data.result.menuType,s.innerInfo.subMenuList=[],s.innerInfo.subMenuList.push(e.data.result),null==s.innerInfo.icon?s.innerInfo.icon="暂无":s.icon=s.innerInfo.icon}))},tipsClick:function(){0==this.tipsFlag?this.tipsFlag=!0:this.tipsFlag=!1}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$helper.getDicByCodeName(this.dic_data);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},r=l,c=(s("2d4f"),s("bcec"),s("6691")),u=Object(c["a"])(r,n,a,!1,null,"7bb8ea80",null);t["default"]=u.exports}}]);