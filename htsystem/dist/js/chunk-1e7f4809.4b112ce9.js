(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e7f4809"],{"53d8":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"manage_model_add model_add"},[n("Form",{ref:"formValidate",staticClass:"clearfix",attrs:{model:e.innerInfo,"label-position":"right",rules:e.ruleValidate,"label-width":120}},[n("FormItem",{attrs:{label:"部门名称",prop:"departmentName",required:!0}},[n("Input",{attrs:{type:"text",disabled:e.disabled,clearable:"",placeholder:"请输入部门名称"},model:{value:e.innerInfo.departmentName,callback:function(t){e.$set(e.innerInfo,"departmentName",t)},expression:"innerInfo.departmentName"}})],1),n("FormItem",{attrs:{label:"负责人",prop:"leader",required:!0}},[n("Input",{attrs:{type:"text",disabled:e.disabled,clearable:"",placeholder:"请输入负责人"},model:{value:e.innerInfo.leader,callback:function(t){e.$set(e.innerInfo,"leader",t)},expression:"innerInfo.leader"}})],1),n("FormItem",{attrs:{label:"手机号",prop:"contactNumber",required:!0}},[n("Input",{attrs:{type:"text",disabled:e.disabled,clearable:"",placeholder:"请输入手机号"},model:{value:e.innerInfo.contactNumber,callback:function(t){e.$set(e.innerInfo,"contactNumber",t)},expression:"innerInfo.contactNumber"}})],1)],1),e.disabled?e._e():n("div",{staticClass:"listbutton"},[e.EditFlag?e._e():n("Button",{staticClass:"savebutton",attrs:{type:"primary",icon:"md-checkmark"},on:{click:e.Addoperate}},[e._v("保存")]),e.EditFlag?n("Button",{staticClass:"savebutton",attrs:{type:"primary",icon:"md-checkmark"},on:{click:e.Editoperate}},[e._v("保存")]):e._e(),n("Button",{staticClass:"cancelbutton",attrs:{type:"primary",icon:"md-undo"},on:{click:e.cancleFun}},[e._v("取消")])],1)],1)},r=[],i=(n("63ff"),n("f8f9")),s=(n("8f42"),n("dea4")),o={props:{parentid:String,departmentid:String,disabled:Boolean,EditFlag:Boolean,row:Object},data:function(){return{dic_data:[{name:"所属系统",data:[]}],innerInfo:{departmentName:"",sort:"",leader:"",contactNumber:""},ruleValidate:{contactNumber:Object(s["a"])(this.$helper.validateProvider("联系电话",!1))}}},watch:{row:{handler:function(e){this.innerInfo=this.$helper.deepClone(e)},deep:!0}},methods:{Addoperate:function(){var e=this;""==this.parentid?(delete this.innerInfo.parentId,delete this.innerInfo.departmentid):(this.innerInfo.parentId=this.departmentid,delete this.innerInfo.departmentid),this.$refs.formValidate.validate((function(t){t?e.$api.ManageConfig.Create(e.innerInfo).then((function(t){t.data.success?(e.$Message.success("提交成功!"),e.$emit("RefreshParent"),e.$refs.formValidate.resetFields()):(e.$Message.error("提交失败!"),e.$Message.error(t.data.error.message))})):e.$Message.error("表单验证失败!")}))},getDetail:function(e){var t=this,n={input:e};this.$api.ManageConfig.DetailManage(n).then((function(e){t.innerInfo=e.data.result}))},Editoperate:function(){var e=this;this.innerInfo.id=Number(this.departmentid),this.innerInfo.parentId=Number(this.parentid),this.innerInfo.sort=0,delete this.innerInfo.creationTime,delete this.innerInfo.subDepartmentList,this.$refs.formValidate.validate((function(t){t?e.$api.ManageConfig.Update(e.innerInfo).then((function(t){t.data.success?(e.$Message.success("修改成功!"),e.$emit("RefreshParent"),e.$refs.formValidate.resetFields()):(e.$Message.error("提交失败!"),e.$Message.error(t.data.error.message))})):e.$Message.error("表单验证失败!")}))},cancleFun:function(){this.$emit("RefreshParent")}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$helper.getDicByCodeName(this.dic_data);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},d=o,l=(n("9a7c"),n("6691")),c=Object(l["a"])(d,a,r,!1,null,"88fa937a",null);t["default"]=c.exports},"9a7c":function(e,t,n){"use strict";var a=n("ff06"),r=n.n(a);r.a},ff06:function(e,t,n){}}]);