(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48b2abe1"],{"28a2":function(e,t,n){"use strict";var a=n("c09b"),s=n.n(a);s.a},"90f6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"model_add"},[n("Form",{ref:"formValidate",staticClass:"clearfix",attrs:{model:e.innerInfo,"label-position":"right",rules:e.ruleValidate,"label-width":120}},[n("FormItem",{attrs:{label:"姓名",prop:"userName",required:!0}},[n("i-Input",{attrs:{type:"text",clearable:"",placeholder:"请输入姓名",disabled:e.disabled},model:{value:e.innerInfo.userName,callback:function(t){e.$set(e.innerInfo,"userName",t)},expression:"innerInfo.userName"}})],1),n("FormItem",{attrs:{label:"性别",prop:"sex",required:!0}},[n("RadioGroup",{model:{value:e.innerInfo.sex,callback:function(t){e.$set(e.innerInfo,"sex",t)},expression:"innerInfo.sex"}},[n("Radio",{attrs:{label:"男",disabled:e.disabled}}),n("Radio",{attrs:{label:"女",disabled:e.disabled}})],1)],1),n("FormItem",{attrs:{label:"手机",prop:"phone",required:!0}},[n("i-Input",{attrs:{type:"text",clearable:"",placeholder:"请输入手机号",disabled:e.disabled},model:{value:e.innerInfo.phone,callback:function(t){e.$set(e.innerInfo,"phone",t)},expression:"innerInfo.phone"}})],1),n("FormItem",{attrs:{label:"邮箱",prop:"email",required:!0}},[n("i-Input",{attrs:{type:"text",clearable:"",placeholder:"请输入邮箱",disabled:e.disabled},model:{value:e.innerInfo.email,callback:function(t){e.$set(e.innerInfo,"email",t)},expression:"innerInfo.email"}})],1),n("FormItem",{attrs:{label:"部门",prop:"departmentId",required:!0}},[n("Select",{attrs:{clearable:"",filterable:"",placeholder:"请选择部门",disabled:e.disabled},model:{value:e.innerInfo.departmentId,callback:function(t){e.$set(e.innerInfo,"departmentId",t)},expression:"innerInfo.departmentId"}},e._l(e.departments,(function(t,a){return n("Option",{key:a,attrs:{value:t.id}},[e._v(e._s(t.value))])})),1)],1),n("FormItem",{attrs:{label:"岗位",prop:"postId",required:!0}},[n("Select",{attrs:{clearable:"",filterable:"",placeholder:"请选择岗位",disabled:e.disabled},model:{value:e.innerInfo.postId,callback:function(t){e.$set(e.innerInfo,"postId",t)},expression:"innerInfo.postId"}},e._l(e.managements,(function(t,a){return n("Option",{key:a,attrs:{value:t.id}},[e._v(e._s(t.value))])})),1)],1),n("FormItem",{attrs:{label:"角色",prop:"roleId",required:!0}},[n("Select",{attrs:{clearable:"",filterable:"",placeholder:"请选择角色",disabled:e.disabled},model:{value:e.innerInfo.roleId,callback:function(t){e.$set(e.innerInfo,"roleId",t)},expression:"innerInfo.roleId"}},e._l(e.roles,(function(t,a){return n("Option",{key:a,attrs:{value:t.id}},[e._v(e._s(t.value))])})),1)],1),n("FormItem",{attrs:{label:"管理员",prop:"isAdmin",required:!0}},[n("i-Switch",{attrs:{size:"large",disabled:e.disabled},model:{value:e.innerInfo.isAdmin,callback:function(t){e.$set(e.innerInfo,"isAdmin",t)},expression:"innerInfo.isAdmin"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),n("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])])],1),n("FormItem",{attrs:{label:" 登录账号",prop:"loginName",required:!0}},[n("i-Input",{attrs:{type:"text",clearable:"",placeholder:"请输入 登录账号",disabled:e.disabled},model:{value:e.innerInfo.loginName,callback:function(t){e.$set(e.innerInfo,"loginName",t)},expression:"innerInfo.loginName"}})],1),e.EditFlag?e._e():n("FormItem",{staticStyle:{position:"relative"},attrs:{label:"登录密码",prop:"passWord",required:!0}},[n("i-Input",{attrs:{type:"password",clearable:"",placeholder:"请输入 登录密码",disabled:e.disabled},model:{value:e.innerInfo.passWord,callback:function(t){e.$set(e.innerInfo,"passWord",t)},expression:"innerInfo.passWord"}})],1),n("FormItem",{attrs:{label:"账号状态",prop:"status",required:!0}},[n("i-Switch",{attrs:{size:"large",disabled:e.disabled},model:{value:e.innerInfo.status,callback:function(t){e.$set(e.innerInfo,"status",t)},expression:"innerInfo.status"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v("启用")]),n("span",{attrs:{slot:"close"},slot:"close"},[e._v("停止")])])],1),n("FormItem",{staticStyle:{width:"100%"},attrs:{label:"备注"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.innerInfo.remark,expression:"innerInfo.remark"}],staticStyle:{width:"100%",border:"1px solid #dcdee2"},attrs:{disabled:e.disabled,placeholder:"请填写备注..."},domProps:{value:e.innerInfo.remark},on:{input:function(t){t.target.composing||e.$set(e.innerInfo,"remark",t.target.value)}}})])],1),e.disabled?e._e():n("div",{staticClass:"listbutton"},[e.EditFlag?e._e():n("Button",{staticClass:"savebutton",attrs:{type:"primary",icon:"md-checkmark"},on:{click:e.Addoperate}},[e._v("保存")]),e.EditFlag?n("Button",{staticClass:"savebutton",attrs:{type:"primary",icon:"md-checkmark"},on:{click:e.Editoperate}},[e._v("保存")]):e._e(),n("Button",{staticClass:"cancelbutton",attrs:{type:"primary",icon:"md-undo"},on:{click:e.cancleFun}},[e._v("取消")])],1)],1)},s=[],i=(n("63ff"),n("f8f9")),r=(n("4634"),n("dea4")),o={props:{disabled:Boolean,EditFlag:Boolean},data:function(){return{dic_data:[{name:"所属系统",data:[]}],roles:[],managements:[],departments:[],innerInfo:{userName:"",loginName:"",phone:"",roleId:"",postId:"",departmentId:"",status:!0,sex:"男",email:"",passWord:"",isAdmin:!1,expandMsg:""},ruleValidate:{phone:Object(r["a"])(this.$helper.validateProvider("联系电话",!1)),email:Object(r["a"])(this.$helper.validateProvider("Email",!1))}}},methods:{Addoperate:function(){var e=this,t={userName:this.innerInfo.userName,loginName:this.innerInfo.loginName,email:this.innerInfo.email,phone:this.innerInfo.phone,roleId:this.innerInfo.roleId,passWord:this.innerInfo.passWord,postId:this.innerInfo.postId,departmentId:this.innerInfo.departmentId,isAdmin:this.innerInfo.isAdmin,expandMsg:this.innerInfo.expandMsg};1==this.innerInfo.status?t.status="1":t.status="2","男"==this.innerInfo.sex?t.sex="1":t.sex="0",this.$refs.formValidate.validate((function(n){n?e.$api.UserConfig.CreateUsers(t).then((function(t){t.data.success?(e.$Message.success("提交成功!"),e.$emit("RefreshParent"),e.$refs.formValidate.resetFields()):(e.$Message.error("提交失败!"),e.$Message.error(t.data.error.message))})):e.$Message.error("表单验证失败!")}))},Editoperate:function(){var e=this,t={id:this.rowId,userName:this.innerInfo.userName,loginName:this.innerInfo.loginName,email:this.innerInfo.email,phone:this.innerInfo.phone,roleId:this.innerInfo.roleId,passWord:this.innerInfo.passWord,postId:this.innerInfo.postId,departmentId:this.innerInfo.departmentId,isAdmin:this.innerInfo.isAdmin,expandMsg:this.innerInfo.expandMsg};1==this.innerInfo.status?t.status="1":t.status="2","男"==this.innerInfo.sex?t.sex="1":t.sex="0",this.$refs.formValidate.validate((function(n){n?e.$api.UserConfig.UpdateUsers(t).then((function(t){t.data.success?(e.$Message.success("提交成功!"),e.$emit("RefreshParent"),e.$refs.formValidate.resetFields()):e.$Message.error("提交失败!")})):e.$Message.error("表单验证失败!")}))},getDetail:function(e){var t=this;this.rowId=e;var n={id:e};this.$api.UserConfig.DetailUsersNew(n).then((function(e){t.innerInfo=e.data.result,1==t.innerInfo.status?t.innerInfo.status=!0:t.innerInfo.status=!1,0==t.innerInfo.sex?t.innerInfo.sex="女":t.innerInfo.sex="男"}))},cancleFun:function(){this.$emit("RefreshParent")},getAllRoles:function(){var e=this,t={roleName:"",status:0,pageSize:12,pageIndex:-1};this.$api.RolesConfig.PageRoles(t).then((function(t){t.data.result.items.forEach((function(t){e.roles.push({value:t.roleName,id:t.id})}))}))},getAllDeparment:function(){var e=this,t={departmentName:"",leader:"",pageIndex:-1,pageSize:12};this.$api.ManageConfig.PageManage(t).then((function(t){e.listDate=t.data.result.items,e.pageTotal=t.data.result.totalCount,e.tableLoading=!1,e.listDate.forEach((function(t){e.departments.push({value:t.departmentName,id:t.id})}))}))},getAllManage:function(){var e=this,t={postName:"",status:0,pageSize:12,pageIndex:-1};this.$api.PostConfig.PagePost(t).then((function(t){e.listDate=t.data.result.items,e.listDate.forEach((function(t){e.managements.push({value:t.postName,id:t.id})}))})),console.log(this.managements)}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$helper.getDicByCodeName(this.dic_data);case 2:this.getAllRoles(),this.getAllDeparment(),this.getAllManage();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},l=o,d=(n("28a2"),n("6691")),p=Object(d["a"])(l,a,s,!1,null,"4ded8036",null);t["default"]=p.exports},c09b:function(e,t,n){}}]);