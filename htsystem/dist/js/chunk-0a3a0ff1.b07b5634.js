(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a3a0ff1"],{"0f25":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"role_model_add model_add"},[a("Form",{ref:"formValidate",staticClass:"clearfix",staticStyle:{width:"100%"},attrs:{model:t.innerInfo,"label-position":"right",rules:t.ruleValidate,"label-width":120}},[a("FormItem",{attrs:{label:"模块名称",prop:"moduleName",required:!0}},[a("Input",{attrs:{type:"text",disabled:t.disabled,clearable:"",placeholder:"请输入模块名称"},model:{value:t.innerInfo.moduleName,callback:function(e){t.$set(t.innerInfo,"moduleName",e)},expression:"innerInfo.moduleName"}})],1),a("FormItem",{attrs:{label:"排序"}},[a("Input",{attrs:{type:"text",disabled:t.disabled,clearable:"",placeholder:"请输入排序"},model:{value:t.innerInfo.sort,callback:function(e){t.$set(t.innerInfo,"sort",e)},expression:"innerInfo.sort"}})],1),a("FormItem",{staticStyle:{width:"100%"},attrs:{label:"文件类型",prop:"attachTypeIds",required:!0}},[a("ul",{staticClass:"type-lists"},t._l(t.attachTypeIds,(function(e,n){return a("li",{key:n,class:{blur:-1!==t.typeId.indexOf(e.id)},on:{click:function(a){return t.liClick(n,e.id,e.sort)}}},[t._v("\n          "+t._s(e.typeName)+"\n          ")])})),0)])],1),t.disabled?t._e():a("div",{staticClass:"listbutton"},[t.EditFlag?t._e():a("Button",{staticClass:"savebutton",attrs:{type:"primary",icon:"md-checkmark"},on:{click:t.Addoperate}},[t._v("保存")]),t.EditFlag?a("Button",{staticClass:"savebutton",attrs:{type:"primary",icon:"md-checkmark"},on:{click:t.Editoperate}},[t._v("保存")]):t._e(),a("Button",{staticClass:"cancelbutton",attrs:{type:"primary",icon:"md-undo"},on:{click:t.cancleFun}},[t._v("取消")])],1)],1)},s=[],r=(a("63ff"),a("f8f9")),i=(a("4634"),a("de90"),{props:{disabled:Boolean,EditFlag:Boolean},data:function(){return{innerInfo:{moduleName:"",attachTypeIds:[],sort:""},rowId:"",attachTypeIds:[],ruleValidate:{},typeId:[],typeObj:[],chooseLists:[],arr:[]}},methods:{Addoperate:function(){var t=this,e={moduleName:this.innerInfo.moduleName,attachTypeConfigList:this.innerInfo.attachTypeIds,sort:this.innerInfo.sort};this.$refs.formValidate.validate((function(a){a?t.$api.AttachmentModule.InsertData(e).then((function(e){e.data.success?(t.$Message.success("提交成功!"),t.$emit("RefreshParent"),t.$refs.formValidate.resetFields()):(t.$Message.error("提交失败!"),t.$Message.error(e.data.error.message))})):t.$Message.error("表单验证失败!")}))},Editoperate:function(){var t=this,e={id:this.rowId,moduleName:this.innerInfo.moduleName,attachTypeConfigList:this.innerInfo.attachTypeIds,sort:this.innerInfo.sort};this.$refs.formValidate.validate((function(a){a?t.$api.AttachmentModule.UpdateData(e).then((function(e){e.data.success?(t.$Message.success("修改成功!"),t.$emit("RefreshParent"),t.$refs.formValidate.resetFields()):(t.$Message.error(e.data.error.message),t.$Message.error("提交失败!"))})):t.$Message.error("表单验证失败!")}))},getDetail:function(t){var e=this;this.rowId=t;var a={rowId:t};this.innerInfo.attachTypeIds=[],this.$api.AttachmentModule.DetailData(a).then((function(t){e.innerInfo=t.data.result,e.typeId=[],e.typeObj=[],e.innerInfo.attachmentFileConfigList.forEach((function(t){var a={attachTypeId:t.attachmentTypeDto.id,sort:t.attachmentTypeDto.sort};e.typeId.push(t.attachmentTypeDto.id),e.typeObj.push(a),e.innerInfo.attachTypeIds=e.typeObj}))}))},getAllType:function(){var t=this;this.$api.AttachmentModule.ShowAllType().then((function(e){t.attachTypeIds=e.data.result,console.log(t.attachTypeIds)}))},cancleFun:function(){this.$emit("RefreshParent")},liClick:function(t,e,a){var n={attachTypeId:e,sort:a};-1!==this.typeId.indexOf(e)?(this.innerInfo.attachTypeIds.splice(this.typeId.indexOf(e),1),this.typeId.splice(this.typeId.indexOf(e),1)):(this.typeId.push(e),this.innerInfo.attachTypeIds.push(n))}},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAllType();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}),o=i,c=(a("7345"),a("6691")),l=Object(c["a"])(o,n,s,!1,null,null,null);e["default"]=l.exports},7345:function(t,e,a){"use strict";var n=a("e571"),s=a.n(n);s.a},"8eba":function(t,e,a){"use strict";var n=a("0cc1");t.exports=function(t,e){return!!t&&n((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},de90:function(t,e,a){"use strict";var n=a("2498"),s=a("8451"),r=a("a9cf"),i=a("0cc1"),o=[].sort,c=[1,2,3];n(n.P+n.F*(i((function(){c.sort(void 0)}))||!i((function(){c.sort(null)}))||!a("8eba")(o)),"Array",{sort:function(t){return void 0===t?o.call(r(this)):o.call(r(this),s(t))}})},e571:function(t,e,a){}}]);