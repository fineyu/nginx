(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d5bfc0e","chunk-0f567344"],{"0f16":function(t,e,a){"use strict";var n=a("d86e"),i=a.n(n);i.a},"7e70":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user manage"},[a("div",{staticClass:"left",style:{width:t.leftData}},[t.treeFlag?a("manageTree",{ref:"trees"}):t._e(),a("div",{staticClass:"left_button",on:{click:t.treeClick}},[a("Icon",{attrs:{type:"md-arrow-dropleft"}})],1)],1),a("div",{staticClass:"right",style:{width:t.widthData}},[a("TableListCom",{attrs:{listName:t.listName,columnsName:t.columnsName,columnsNameSmall:t.columnsNameSmall,listDateSmall:t.listDateSmall,listDate:t.listDate,modalTitle:t.modalTitle,pageTotal:t.pageTotal,tableLoading:t.tableLoading,pageSize:t.listParam.pageSize,addButtonShow:t.addButtonShow,delButtonShow:t.delButtonShow,moreButtonShow:t.moreButtonShow,treeButtonShow:t.treeButtonShow,searchButtonShow:t.searchButtonShow,tableButtonShow:t.tableButtonShow},on:{"show-list-data":t.showListData,"handle-selection":t.handleSelection,"handle-selection-small":t.handleSelectionSmall}},[a("div",{staticClass:"searchtop",attrs:{slot:"shift-conditions"},slot:"shift-conditions"},[a("ul",[a("li",{staticClass:"item"},[a("label",[t._v("部门名称")]),a("Input",{staticStyle:{width:"280px"},attrs:{placeholder:"请输入部门名称",clearable:""},model:{value:t.formSearch.departmentName,callback:function(e){t.$set(t.formSearch,"departmentName",e)},expression:"formSearch.departmentName"}})],1),a("li",{staticClass:"item"},[a("label",[t._v("负责人")]),a("Input",{staticStyle:{width:"280px"},attrs:{placeholder:"请输入负责人名称",clearable:""},model:{value:t.formSearch.leader,callback:function(e){t.$set(t.formSearch,"leader",e)},expression:"formSearch.leader"}})],1),a("li",{staticClass:"item"},[a("Button",{staticClass:"search",attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){return t.searchInfo()}}},[t._v("搜索")]),a("Button",{staticClass:"reset",attrs:{type:"primary",icon:"md-refresh"},on:{click:t.resetInfo}},[t._v("重置")])],1)])]),a("div")])],1),a("Modal",{staticClass:"auto_modal",attrs:{title:t.modalTitle,width:900,"mask-closable":!1,"footer-hide":!0},model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[a("userAdd",{ref:"manageAdd",attrs:{disabled:t.disabled,EditFlag:t.EditFlag,parentid:t.parentid,departmentid:t.departmentid},on:{RefreshParent:t.refreshData}})],1),a("Modal",{staticClass:"auto_modal",attrs:{title:"详情",width:900,"mask-closable":!1,"footer-hide":!0},model:{value:t.addModalDetail,callback:function(e){t.addModalDetail=e},expression:"addModalDetail"}},[a("manageDetail",{ref:"manageDetail"})],1),a("Modal",{attrs:{title:"提示","mask-closable":!1,"class-name":"vertical-center-modal  del_modal"},model:{value:t.delModal,callback:function(e){t.delModal=e},expression:"delModal"}},[a("p",[t._v("确定要删除数据吗？")]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large",icon:"md-undo"},on:{click:function(e){return t.cancel()}}},[t._v("取消")]),a("Button",{attrs:{type:"primary",size:"large",icon:"md-checkmark"},on:{click:function(e){return t.moreDel()}}},[t._v("确定")])],1)])],1)},i=[],l=(a("63ff"),a("f8f9")),s=a("dea4"),o=(a("4634"),a("c041"),a("97a3")),r=a("d667"),d=a("53d8"),c=a("7099"),h=a("30e8"),m={components:{manageTree:r["default"],userAdd:d["default"],manageTable:c["default"],manageDetail:h["default"]},data:function(){var t=this;return{listName:"user_management",modalTitle:"新增",addModal:!1,EditFlag:!1,treeFlag:!0,addButtonShow:!0,delButtonShow:!0,moreButtonShow:!0,tableButtonShow:!0,searchButtonShow:!0,treeButtonShow:!0,addModalDetail:!1,widthData:"87%",leftData:"12%",currentPage:1,dic_data:[{name:"使用状态",data:[]}],columnsName:[{type:"selection",width:60,align:"center"},Object(o["a"])({type:"index",width:60,align:"center"},"align","center"),{type:"expand",width:50,align:"center",render:function(e,a){return e(c["default"],{props:{row:a.row.subDepartmentList},on:{refreshData:function(){t.addModal=!1,t.showListData(1)},handleSelection:function(e){t.deleteList=[];for(var a=0;a<e.length;a++)t.deleteList.push(e[a].id)}}})}},{title:"部门名称",key:"departmentName"},{title:"负责人",key:"leader",align:"center"},{title:"手机号",key:"contactNumber",align:"center"},{title:"创建时间",key:"creationTime",align:"center",render:function(t,e){return[e.row.creationTime.replace(/T\S+$/,"")]}},{title:"操作",key:"action",width:190,align:"center",render:function(e,a){return e("div",[e("Tooltip",{props:{placement:"top",transfer:!0,content:"新增"}},[e("i",{class:{"iconfont iconxinzeng":!0},style:{fontSize:"18px",color:"#ef6776",marginRight:"10px"},on:{click:function(){t.modalTitle="新增",t.addModal=!0,t.parentid=String(a.row.parentId),t.departmentid=String(a.row.id),t.EditFlag=!1,t.disabled=!1,t.$refs.manageAdd.innerInfo={departmentName:"",sort:"",leader:"",contactNumber:""},t.$refs.manageAdd.$refs.formValidate.resetFields()}}})]),e("Tooltip",{props:{placement:"top",transfer:!0,content:"查看"}},[e("i",{class:{"iconfont iconsousuo":!0},style:{fontSize:"18px",color:"#f8ac59",marginRight:"10px"},on:{click:function(){t.addModalDetail=!0,t.$refs.manageDetail.getDetail(a.row.id)}}})]),e("Tooltip",{props:{placement:"top",transfer:!0,content:"编辑"}},[e("i",{class:{"iconfont iconbianji":!0},style:{fontSize:"18px",color:"#23c6c8",marginRight:"10px"},on:{click:function(){t.modalTitle="编辑",t.departmentid=String(a.row.id),t.parentid=String(a.row.parentId),t.addModal=!0,t.EditFlag=!0,t.$refs.manageAdd.getDetail(a.row.id),t.disabled=!1}}})]),e("Tooltip",{props:{placement:"top",transfer:!0,content:"删除"}},[e("i",{class:{"iconfont iconshanchu1":!0},style:{fontSize:"20px",color:"#ef6776",marginRight:"10px"},on:{click:function(){t.deleteList=[],t.deleteList.push(a.row.id),t.delModal=!0}}})])])}}],columnsNameSmall:[{type:"selection",width:50,align:"center"},{title:"列表",key:"title",width:100,align:"center"}],listDateSmall:[{title:"部门名称",_disabled:!0},{title:"负责人",_checked:!0},{title:"手机号",_checked:!0},{title:"创建时间",_checked:!0},{title:"操作",_disabled:!0}],pageTotal:10,tableLoading:!1,formSearch:{leader:"",departmentName:"",pageIndex:1,pageSize:12},listParam:{departmentName:"",leader:"",pageIndex:1,pageSize:12},disabled:!1,submit:!1,deleteList:[],delModal:!1,listArr:[],newColumnsName:[],listDate:[],parentid:"",departmentid:""}},methods:{showListData:function(t){var e=this;this.currentPage=t,this.listParam.pageIndex=t,this.tableLoading=!0,this.$api.ManageConfig.PageManage(this.listParam).then((function(t){e.listDate=t.data.result.items,e.pageTotal=t.data.result.totalCount,e.tableLoading=!1,e.listDate.forEach((function(t){0==t.subDepartmentList.length?t._disableExpand=!0:t.subDepartmentList.forEach((function(t){0==t.subDepartmentList.length?t._disableExpand=!0:t.subDepartmentList.forEach((function(t){0==t.subDepartmentList.length&&(t._disableExpand=!0,t.addSow=!1)}))}))}))})),this.$refs.trees.getManageTree()},addFun:function(){this.addModal=!0,this.parentid="",this.departmentid="",this.EditFlag=!1,this.$refs.manageAdd.innerInfo={departmentName:"",sort:"",leader:"",contactNumber:""},this.$refs.manageAdd.$refs.formValidate.resetFields()},handleSelection:function(t){this.deleteList=[];for(var e=0;e<t.length;e++)this.deleteList.push(t[e].id)},moreDel:function(){var t=this;0!==this.deleteList.length?this.$api.ManageConfig.Delete(this.deleteList).then((function(e){e.data.success&&(t.$Message.success("删除成功!"),t.deleteList=[],t.showListData(1),t.delModal=!1)})):this.$Message.error("请选择数据!")},delInfo:function(){this.delModal=!0},searchInfo:function(t){var e=this;""!=t&&void 0!=t&&(this.formSearch.departmentName=t),this.tableLoading=!0,this.$api.ManageConfig.PageManage(this.formSearch).then((function(t){e.listDate=t.data.result.items,e.pageTotal=t.data.result.totalCount,e.tableLoading=!1,e.listDate.forEach((function(t){null==t.subDepartmentList?t._disableExpand=!0:0==t.subDepartmentList.length?t._disableExpand=!0:t.subDepartmentList.forEach((function(t){0==t.subDepartmentList.length?t._disableExpand=!0:t.subDepartmentList.forEach((function(t){0==t.subDepartmentList.length&&(t._disableExpand=!0,t.addSow=!1)}))}))}))}))},treeClick:function(){1==this.treeFlag?(this.treeFlag=!1,this.widthData="98.5%!important",this.leftData="0%!important"):(this.treeFlag=!0,this.widthData="87%!important",this.leftData="12%!important")},resetInfo:function(){this.formSearch={},this.showListData(1)},handleSelectionSmall:function(t){var e=this;this.columnsName=this.newColumnsName,this.listArr=[],t.length>0&&(this.columnsName[6].width=190,t.forEach((function(t){e.columnsName.forEach((function(a){t.title==a.title&&e.listArr.push(a)}))}))),this.listArr.push(this.columnsName[this.columnsName.length-1]),this.listArr.unshift(this.columnsName[3]),this.listArr.unshift(this.columnsName[1]),this.listArr.unshift(this.columnsName[0]),this.columnsName=Object(s["a"])(this.listArr)},refreshData:function(){this.currentPage=1,this.addModal=!1,this.showListData(1)},cancel:function(){this.delModal=!1}},mounted:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$helper.getDicByCodeName(this.dic_data);case 2:this.newColumnsName=this.columnsName,this.showListData(1);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},u=m,f=(a("f7c7"),a("6691")),p=Object(f["a"])(u,n,i,!1,null,null,null);e["default"]=p.exports},"8f84":function(t,e,a){},d667:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tree",{attrs:{data:t.data1},on:{"on-select-change":t.chooseTree}})},i=[],l=(a("4634"),{data:function(){return{data1:[{title:"部门组织结构",expand:!0,nodeKey:0,render:function(t){return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t("Icon",{props:{type:"ios-folder-outline"},style:{marginRight:"8px"}}),t("span","部门组织结构")])])},children:[]}],listParam:{departmentName:"",leader:"",pageIndex:-1,pageSize:12}}},methods:{getManageTree:function(){var t=this;this.$api.ManageConfig.PageManage(this.listParam).then((function(e){var a=e.data.result.items;a.length>0&&a.forEach((function(t,e){if(a[e].title=a[e].departmentName,a[e].children=a[e].subDepartmentList,a[e].children.length>0){var n=a[e].children;n.forEach((function(t,e){n[e].title=n[e].departmentName}))}})),t.data1[0].children=a}))},chooseTree:function(t){""!=t[0].departmentName&&this.$parent.searchInfo(t[0].departmentName)}},mounted:function(){this.getManageTree()}}),s=l,o=(a("0f16"),a("6691")),r=Object(o["a"])(s,n,i,!1,null,null,null);e["default"]=r.exports},d86e:function(t,e,a){},f7c7:function(t,e,a){"use strict";var n=a("8f84"),i=a.n(n);i.a}}]);