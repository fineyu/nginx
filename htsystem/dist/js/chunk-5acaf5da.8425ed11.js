(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5acaf5da"],{"4bb5":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu_model_add model_add"},[n("Form",{ref:"formValidate",staticClass:"clearfix",attrs:{model:e.innerInfo,"label-position":"right",rules:e.ruleValidate,"label-width":120}},[n("FormItem",{attrs:{label:"类型",prop:"menuType",required:!0}},[n("Select",{attrs:{clearable:"",placeholder:"请选择类型",disabled:e.disabled},on:{"on-change":e.chooseType},model:{value:e.innerInfo.menuType,callback:function(t){e.$set(e.innerInfo,"menuType",t)},expression:"innerInfo.menuType"}},e._l(e.typeList,(function(t){return n("Option",{key:t.key,attrs:{value:t.key}},[e._v(e._s(t.value))])})),1)],1),n("Tooltip",{attrs:{content:"配置格式查看",placement:"top"}},[n("Icon",{staticStyle:{color:"#ed5565","font-size":"22px"},attrs:{type:"ios-pricetags"},on:{click:e.tipsClick}})],1),e.muluOrMenu?e._e():n("div",e._l(e.innerInfo.subMenuList,(function(t,s){return n("div",{key:s,staticClass:"box_content",staticStyle:{width:"100%",float:"right",position:"relative","margin-bottom":"15px"}},[e.disabled?e._e():n("Button",{staticClass:"menu_button",class:0===s?"":"none",attrs:{type:"primary"},on:{click:e.addButton}},[e._v("添加")]),e.disabled?e._e():n("Button",{staticClass:"menu_button",class:0===s?"none":"",staticStyle:{"background-color":"#ed5565","border-color":"#ed5565"},attrs:{type:"primary"},on:{click:function(t){return e.reduceButton(s)}}},[e._v("删除")]),n("FormItem",{attrs:{label:"按钮名称",prop:"subMenuList["+s+"].menuName",required:!0}},[n("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入按钮名称",disabled:e.disabled},model:{value:t.menuName,callback:function(n){e.$set(t,"menuName",n)},expression:"item.menuName"}})],1),n("FormItem",{attrs:{label:"路由地址",prop:"componentName"}},[n("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入组件名称",disabled:e.disabled},model:{value:t.componentName,callback:function(n){e.$set(t,"componentName",n)},expression:"item.componentName"}})],1),n("FormItem",{attrs:{label:"按钮图标",prop:"permission"}},[n("IconSelect",{attrs:{disabled:e.disabled,inputIconValue:t.icon},on:{getIconValue:function(t){return e.getValue(s,t)}},model:{value:t.icon,callback:function(n){e.$set(t,"icon",n)},expression:"item.icon"}})],1),n("FormItem",{attrs:{label:"权限标识",prop:"permission"}},[n("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入权限标识",disabled:e.disabled},model:{value:t.permission,callback:function(n){e.$set(t,"permission",n)},expression:"item.permission"}})],1),n("FormItem",{attrs:{label:"显示状态"}},[n("i-Switch",{attrs:{size:"large",disabled:e.disabled},model:{value:t.isShow,callback:function(n){e.$set(t,"isShow",n)},expression:"item.isShow"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v("显示")]),n("span",{attrs:{slot:"close"},slot:"close"},[e._v("隐藏")])])],1)],1)})),0),e.muluOrMenu?n("div",e._l(e.innerInfo.subMenuList,(function(t,s){return n("div",{key:s,staticClass:"box_content",staticStyle:{width:"100%",float:"right",position:"relative","margin-bottom":"15px"}},[e.disabled?e._e():n("Button",{staticClass:"menu_button",class:0===s?"":"none",attrs:{type:"primary"},on:{click:e.addButton}},[e._v("添加")]),e.disabled?e._e():n("Button",{staticClass:"menu_button",class:0===s?"none":"",staticStyle:{"background-color":"#ed5565","border-color":"#ed5565"},attrs:{type:"primary"},on:{click:function(t){return e.reduceButton(s)}}},[e._v("删除")]),n("FormItem",{attrs:{label:"菜单名称",prop:"subMenuList["+s+"].menuName",required:!0}},[n("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入菜单名称",disabled:e.disabled},model:{value:t.menuName,callback:function(n){e.$set(t,"menuName",n)},expression:"item.menuName"}})],1),n("FormItem",{attrs:{label:"三方地址"}},[n("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入三方地址",disabled:e.disabled},model:{value:t.href,callback:function(n){e.$set(t,"href",n)},expression:"item.href"}})],1),n("FormItem",{attrs:{label:"路由名称",prop:"routeName"}},[n("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入路由名称",disabled:e.disabled},model:{value:t.routeName,callback:function(n){e.$set(t,"routeName",n)},expression:"item.routeName"}})],1),n("FormItem",{attrs:{label:"路由地址",prop:"componentName"}},[n("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入组件名称",disabled:e.disabled},model:{value:t.componentName,callback:function(n){e.$set(t,"componentName",n)},expression:"item.componentName"}})],1),n("FormItem",{attrs:{label:"菜单图标",prop:"permission"}},[n("IconSelect",{attrs:{disabled:e.disabled,inputIconValue:t.icon},on:{getIconValue:function(t){return e.getValue(s,t)}},model:{value:t.icon,callback:function(n){e.$set(t,"icon",n)},expression:"item.icon"}})],1),n("FormItem",{attrs:{label:"权限标识",prop:"permission"}},[n("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入权限标识",disabled:e.disabled},model:{value:t.permission,callback:function(n){e.$set(t,"permission",n)},expression:"item.permission"}})],1),n("FormItem",{attrs:{label:"菜单排序",prop:"sort"}},[n("Input",{staticClass:"list_input",attrs:{type:"text",clearable:"",placeholder:"请输入菜单排序",disabled:e.disabled},model:{value:t.sort,callback:function(n){e.$set(t,"sort",n)},expression:"item.sort"}})],1),n("FormItem",{attrs:{label:"显示状态"}},[n("i-Switch",{attrs:{size:"large",disabled:e.disabled},model:{value:t.isShow,callback:function(n){e.$set(t,"isShow",n)},expression:"item.isShow"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v("显示")]),n("span",{attrs:{slot:"close"},slot:"close"},[e._v("隐藏")])])],1),n("FormItem",{staticStyle:{float:"right"},attrs:{label:"是否需要检验接口"}},[n("i-Switch",{attrs:{size:"large",disabled:e.disabled},model:{value:t.needCheckPermission,callback:function(n){e.$set(t,"needCheckPermission",n)},expression:"item.needCheckPermission"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v("需要")]),n("span",{attrs:{slot:"close"},slot:"close"},[e._v("不需要")])])],1)],1)})),0):e._e()],1),e.tipsFlag?n("div",{staticClass:"tips"},[n("span",{staticStyle:{color:"red","font-size":"14px"}},[e._v("*配置格式：")]),n("span",[e._v("目录/菜单名称：路由title;")]),n("span",[e._v("路由名称：路由name (不需要加斜杠);")]),n("span",[e._v("路由地址：路由component;")]),n("span",[e._v("目录/菜单图标：路由icon;")]),n("span",[e._v("三方地址：路由href;")])]):e._e(),e.disabled?e._e():n("div",{staticClass:"listbutton"},[n("Button",{staticClass:"savebutton",attrs:{type:"primary",icon:"md-checkmark"},on:{click:e.Addoperate}},[e._v("新增保存")]),n("Button",{staticClass:"cancelbutton",attrs:{type:"primary",icon:"md-undo"},on:{click:e.cancleFun}},[e._v("取消")])],1)],1)},a=[],i=(n("63ff"),n("f8f9")),o=(n("4634"),n("8f42"),{props:{parentId:Number,disabled:Boolean},data:function(){return{innerInfo:{menuType:2,subMenuList:[{menuName:"",menuType:2,isShow:!1,icon:"",menuPath:"",routeName:"",componentName:"",permission:"",parentId:0,needCheckPermission:!1}]},typeList:[{value:"菜单",label:"菜单",key:2},{value:"按钮",label:"按钮",key:3}],ruleValidate:{},narr:[],nIndex:0,muluOrMenu:!0,tipsFlag:!1}},methods:{Addoperate:function(){var e=this;this.innerInfo.subMenuList.forEach((function(t){t.parentId=e.parentId,t.menuType=e.innerInfo.menuType})),this.$refs.formValidate.validate((function(t){t?e.$api.MenuConfig.AddMoreMenu(e.innerInfo.subMenuList).then((function(t){t.data.success?(e.$Message.success("提交成功!"),e.$emit("RefreshParent"),e.$refs.formValidate.resetFields()):e.$Message.error("提交失败!")})):e.$Message.error("表单验证失败!")}))},cancleFun:function(){this.$emit("RefreshParent")},addButton:function(){this.innerInfo.subMenuList.push({menuName:""})},reduceButton:function(e){this.innerInfo.subMenuList.splice(e,1)},getValue:function(e,t){this.innerInfo.subMenuList[e].icon=t},chooseType:function(e){this.muluOrMenu=2==e,this.innerInfo.subMenuList.forEach((function(t){t.menuType=e}))},getDetail:function(e,t){var n=this;this.xinzengFlag=!0,this.muluOrMenu="菜单"==t||2==t;var s={id:e};this.$api.MenuConfig.DetailMenu(s).then((function(e){n.innerInfo.menuType=e.data.result.menuType,n.innerInfo.subMenuList=[],n.innerInfo.subMenuList.push(e.data.result),null==n.innerInfo.icon?n.innerInfo.icon="暂无":n.icon=n.innerInfo.icon}))},tipsClick:function(){0==this.tipsFlag?this.tipsFlag=!0:this.tipsFlag=!1}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),l=o,r=(n("ee9f"),n("a9d8"),n("6691")),c=Object(r["a"])(l,s,a,!1,null,"5383757c",null);t["default"]=c.exports},5644:function(e,t,n){},"9f2c":function(e,t,n){},a9d8:function(e,t,n){"use strict";var s=n("9f2c"),a=n.n(s);a.a},ee9f:function(e,t,n){"use strict";var s=n("5644"),a=n.n(s);a.a}}]);