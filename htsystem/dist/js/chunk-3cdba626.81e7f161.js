(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cdba626"],{"67d9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"user menu_page"},[a("div",{staticClass:"right",style:{width:e.widthData}},[a("TableListCom",{attrs:{listName:e.listName,columnsName:e.columnsName,columnsNameSmall:e.columnsNameSmall,listDateSmall:e.listDateSmall,listDate:e.listDate,pageTotal:e.pageTotal,tableLoading:e.tableLoading,pageSize:e.listParam.pageSize,addButtonShow:e.addButtonShow,delButtonShow:e.delButtonShow,moreButtonShow:e.moreButtonShow,treeButtonShow:e.treeButtonShow,searchButtonShow:e.searchButtonShow,tableButtonShow:e.tableButtonShow},on:{"show-list-data":e.showListData,"handle-selection":e.handleSelection,"handle-selection-small":e.handleSelectionSmall}},[a("div",{staticClass:"searchtop",attrs:{slot:"shift-conditions"},slot:"shift-conditions"},[a("ul",[a("li",{staticClass:"item"},[a("label",[e._v("配置名称")]),a("Input",{staticStyle:{width:"280px"},attrs:{placeholder:"请输入菜单名称",clearable:""},model:{value:e.formSearch.menuName,callback:function(t){e.$set(e.formSearch,"menuName",t)},expression:"formSearch.menuName"}})],1),a("li",{staticClass:"item"},[a("label",[e._v("显示状态")]),a("Select",{attrs:{placeholder:"请选择显示状态",clearable:""},model:{value:e.formSearch.isShow,callback:function(t){e.$set(e.formSearch,"isShow",t)},expression:"formSearch.isShow"}},e._l(e.statusList,(function(t){return a("Option",{key:t.isShow,attrs:{value:t.isShow}},[e._v(e._s(t.value))])})),1)],1),a("li",{staticClass:"item"},[a("Button",{staticClass:"search",attrs:{type:"primary",icon:"ios-search"},on:{click:e.searchInfo}},[e._v("搜索")]),a("Button",{staticClass:"reset",attrs:{type:"primary",icon:"md-refresh"},on:{click:e.resetInfo}},[e._v("重置")])],1)])])])],1),a("Modal",{attrs:{title:e.modalTitle,"footer-hide":!0,width:900,"mask-closable":!1},model:{value:e.addModal,callback:function(t){e.addModal=t},expression:"addModal"}},[a("menuAdd",{ref:"userAdd",attrs:{disabled:e.disabled},on:{RefreshParent:e.refreshData}})],1),a("Modal",{attrs:{title:"编辑","footer-hide":!0,width:900,"mask-closable":!1},model:{value:e.addModal3,callback:function(t){e.addModal3=t},expression:"addModal3"}},[a("menuAdd2",{ref:"userAdd3",attrs:{disabled:e.disabled,EditFlag:e.EditFlag,type:e.type,parentId:e.parentId},on:{RefreshParent:e.refreshData}})],1),a("Modal",{attrs:{title:e.modalTitle2,"footer-hide":!0,width:900,"mask-closable":!1},model:{value:e.addModal2,callback:function(t){e.addModal2=t},expression:"addModal2"}},[a("menuAdd3",{ref:"userAdd2",attrs:{disabled:e.disabled,EditFlag:e.EditFlag,type:e.type,parentId:e.parentId},on:{RefreshParent:e.refreshData}})],1),a("Modal",{attrs:{title:"提示","mask-closable":!1,"class-name":"vertical-center-modal  del_modal"},model:{value:e.delModal,callback:function(t){e.delModal=t},expression:"delModal"}},[a("p",[e._v("确定要删除数据吗？")]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large",icon:"md-undo"},on:{click:function(t){return e.cancel()}}},[e._v("取消")]),a("Button",{attrs:{type:"primary",size:"large",icon:"md-checkmark"},on:{click:function(t){return e.moreDel()}}},[e._v("确定")])],1)]),a("Modal",{attrs:{title:"详情","footer-hide":!0,width:900,"mask-closable":!1},model:{value:e.addModalDetail,callback:function(t){e.addModalDetail=t},expression:"addModalDetail"}},[a("menuDetail",{ref:"menuDetail",attrs:{type:e.type}})],1)],1)])},i=[],o=(a("63ff"),a("f8f9")),s=a("dea4"),l=(a("4634"),a("1533")),d=a("ff55"),r=a("66e1"),u=a("4bb5"),c=a("8598"),m={components:{menuAdd:d["default"],menuAdd2:r["default"],menuAdd3:u["default"],menuTable:l["default"],menuDetail:c["default"]},data:function(){var e=this;return{listName:"user_management",modalStatus:!1,addModalDetail:!1,widthData:"100%",addModal:!1,addModal2:!1,addModal3:!1,addButtonShow:!0,delButtonShow:!0,moreButtonShow:!0,tableButtonShow:!0,searchButtonShow:!0,treeButtonShow:!0,currentPage:1,moreShowFlag:!1,parentId:0,statusList:[{value:"显示",label:"显示",isShow:"true"},{value:"隐藏",label:"隐藏",isShow:"false"}],dic_data:[{name:"显示状态",data:[]}],columnsName:[{type:"selection",width:60,align:"center"},{type:"index",width:40,align:"center"},{type:"expand",width:40,align:"center",render:function(t,a){return t(l["default"],{props:{row:a.row.subMenuList},on:{refreshData:function(){e.addModal3=!1,e.showListData(1)},handleSelection:function(t){e.deleteList=[];for(var a=0;a<t.length;a++)e.deleteList.push(t[a].id)}}})}},{title:"配置名称",key:"menuName",align:"center"},{title:"配置图标",key:"icon",align:"center",render:function(e,t){if(null!=t.row.icon){var a="iconfont "+t.row.icon;return e("i",{class:a},{style:{fontSize:"40px",color:"#000",marginRight:"10px"}})}return e("span","暂无")}},{title:"配置类型",key:"menuType",align:"center",render:function(e,t){return e("span",{style:{backgroundColor:"目录"==t.row.menuType?"#f8ac59":"#1c84c6",color:"#FFFFFF",padding:"5px 12px",display:"inline-block"}},t.row.menuType)}},{title:"路由名称",key:"routeName",align:"center"},{title:"显示状态",key:"isShow",align:"center",render:function(e,t){return e("span",{style:{backgroundColor:"隐藏"==t.row.isShow?"red":"#1ab394",padding:"5px 12px",display:"inline-block",color:"#fff",borderRadius:"16px"}},t.row.isShow)}},{title:"创建时间",key:"creationTime",align:"center"},{title:"操作",key:"action",align:"center",width:170,render:function(t,a){return t("div",[t("Tooltip",{props:{placement:"top",transfer:!0,content:"添加"}},[t("i",{class:{"iconfont iconxinzeng":!0},style:{fontSize:"20px",color:"#ef6776",marginRight:"10px"},on:{click:function(){e.addModal2=!0,"目录"==a.row.menuType?(e.addModal2=!0,e.addModal=!1,e.disabled=!1,e.modalTitle="新增",e.$refs.userAdd2.innerInfo={menuType:2,subMenuList:[{menuName:"",menuType:2,isShow:!1,icon:"",menuPath:"",routeName:"",componentName:"",permission:"",parentId:0,needCheckPermission:!1}]},e.$refs.userAdd2.$refs.formValidate.resetFields(),e.type=1,e.parentId=a.row.id):"菜单"==a.row.menuType?(e.addModal2=!0,e.addModal=!1,e.disabled=!1,e.modalTitle2="新增",e.$refs.userAdd2.innerInfo={menuType:2,subMenuList:[{menuName:"",menuType:2,isShow:!1,icon:"",menuPath:"",routeName:"",componentName:"",permission:"",parentId:0,needCheckPermission:!1}]},e.$refs.userAdd2.$refs.formValidate.resetFields(),e.type=2,e.parentId=a.row.id):"按钮"==a.row.menuType&&(e.addModal2=!0,e.addModal=!1,e.modalTitle2="新增",e.$refs.userAdd2.innerInfo={menuType:2,subMenuList:[{menuName:"",menuType:2,isShow:!1,icon:"",menuPath:"",routeName:"",componentName:"",permission:"",parentId:0,needCheckPermission:!1}]},e.$refs.userAdd2.$refs.formValidate.resetFields(),e.type=3,e.parentId=a.row.id)}}})]),t("Tooltip",{props:{placement:"top",transfer:!0,content:"查看"}},[t("i",{class:{"iconfont iconsousuo":!0},style:{fontSize:"18px",color:"#f8ac59",marginRight:"10px"},on:{click:function(){"目录"==a.row.menuType?e.type=1:"菜单"==a.row.menuType?e.type=2:"按钮"==a.row.menuType&&(e.type=3),e.addModalDetail=!0,e.$refs.menuDetail.getDetail(a.row.id,e.type)}}})]),t("Tooltip",{props:{placement:"top",transfer:!0,content:"编辑"}},[t("i",{class:{"iconfont iconbianji":!0},style:{fontSize:"18px",color:"#23c6c8",marginRight:"10px"},on:{click:function(){"目录"==a.row.menuType?(e.addModal3=!0,e.type=1,e.$refs.userAdd3.getDetail(a.row.id,a.row.menuType)):"菜单"==a.row.menuType?(e.addModal3=!0,e.type=2,e.$refs.userAdd3.getDetail(a.row.id,a.row.menuType)):"按钮"==a.row.menuType&&(e.addModal3=!0,e.type=3,e.$refs.userAdd3.getDetail(a.row.id,a.row.menuType))}}})]),t("Tooltip",{props:{placement:"top",transfer:!0,content:"删除"}},[t("i",{class:{"iconfont iconshanchu1":!0},style:{fontSize:"20px",color:"#ef6776",marginRight:"10px"},on:{click:function(){e.deleteList=[],e.deleteList.push(a.row.id),e.delModal=!0}}})])])}}],listDate:[],columnsNameSmall:[{type:"selection",width:50,align:"center"},{title:"列表",key:"title",width:100,align:"center"}],listDateSmall:[{title:"配置名称",_disabled:!0},{title:"配置图标",_checked:!0},{title:"配置类型",_checked:!0},{title:"路由名称",_checked:!0},{title:"显示状态",_checked:!0},{title:"创建时间",_checked:!0},{title:"操作",_disabled:!0}],modalTitle:"新增",modalTitle2:"新增",pageTotal:10,tableLoading:!1,formSearch:{menuName:"",isShow:"",pageSize:12,pageIndex:1},listParam:{menuName:"",isShow:"",pageSize:12,pageIndex:1},disabled:!1,EditFlag:!1,type:1,deleteList:[],delModal:!1,listArr:[],newColumnsName:[]}},methods:{showListData:function(e){var t=this;this.currentPage=e,this.listParam.pageIndex=e,this.tableLoading=!0,this.$api.MenuConfig.PageMenu(this.listParam).then((function(e){t.listDate=e.data.result.items,t.pageTotal=e.data.result.totalCount,t.tableLoading=!1,t.listDate.forEach((function(e){1==e.menuType?e.menuType="目录":2==e.menuType?e.menuType="菜单":e.menuType="按钮",1==e.isShow?e.isShow="显示":e.isShow="隐藏",0==e.subMenuList.length&&(e._disableExpand=!0)}))}))},handleSelection:function(e){this.deleteList=[];for(var t=0;t<e.length;t++)this.deleteList.push(e[t].id)},moreDel:function(){var e=this;0!==this.deleteList.length?this.$api.MenuConfig.DeleteMenu(this.deleteList).then((function(t){t.data.success&&(e.$Message.success("删除成功!"),e.deleteList=[],e.showListData(1),e.delModal=!1)})):this.$Message.error("请选择数据!")},delInfo:function(){this.delModal=!0},addFun:function(){this.disabled=!1,this.addModal=!0,this.$refs.userAdd.innerInfo={menuType:1,subMenuList:[{menuName:"",menuType:1,isShow:!1,icon:"",menuPath:"",routeName:"",componentName:"",permission:"",NeedCheckPermission:!1}]},this.$refs.userAdd.$refs.formValidate.resetFields()},searchInfo:function(){var e=this;this.tableLoading=!0,this.$api.MenuConfig.PageMenu(this.formSearch).then((function(t){e.listDate=t.data.result.items,e.pageTotal=t.data.result.totalCount,e.tableLoading=!1,e.listDate.forEach((function(e){1==e.menuType?e.menuType="目录":2==e.menuType?e.menuType="菜单":e.menuType="按钮",1==e.isShow?e.isShow="显示":e.isShow="隐藏",0==e.subMenuList.length&&(e._disableExpand=!0)}))}))},resetInfo:function(){this.formSearch={},this.showListData(1)},handleSelectionSmall:function(e){var t=this;this.columnsName=this.newColumnsName,this.listArr=[],e.length>0&&e.forEach((function(e){t.columnsName.forEach((function(a){e.title==a.title&&t.listArr.push(a)}))})),this.listArr.push(this.columnsName[this.columnsName.length-1]),this.listArr.unshift(this.columnsName[2]),this.listArr.unshift(this.columnsName[1]),this.listArr.unshift(this.columnsName[0]),this.columnsName=Object(s["a"])(this.listArr)},refreshData:function(){this.addModal=!1,this.addModal2=!1,this.addModal3=!1,this.showListData(1)},cancel:function(){this.delModal=!1}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$helper.getDicByCodeName(this.dic_data);case 2:this.newColumnsName=this.columnsName,this.showListData(1);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},h=m,p=(a("9101"),a("6691")),f=Object(p["a"])(h,n,i,!1,null,null,null);t["default"]=f.exports},9101:function(e,t,a){"use strict";var n=a("bf19"),i=a.n(n);i.a},bf19:function(e,t,a){}}]);